<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Data Analytics for Clinical Practice and Research</title>
  <meta name="description" content="Data Analytics for Clinical Practice and Research">
  <meta name="generator" content="bookdown 0.7.13 and GitBook 2.6.7">

  <meta property="og:title" content="Data Analytics for Clinical Practice and Research" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Analytics for Clinical Practice and Research" />
  
  
  

<meta name="author" content="Gener J Aviles-Rodriguez">


<meta name="date" content="2018-07-13">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="clinicalTrials.html">
<link rel="next" href="machine-learning-for-the-clinical-work.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.4/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Analytics in Medicine</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="clinicalTrials.html"><a href="clinicalTrials.html"><i class="fa fa-check"></i><b>2</b> Analysis of Clinical Trials with R</a><ul>
<li class="chapter" data-level="2.1" data-path="clinicalTrials.html"><a href="clinicalTrials.html#why-use-r-in-clinical-trials-analysis-when-there-is-other-software-avilable."><i class="fa fa-check"></i><b>2.1</b> Why use R in Clinical Trials analysis when there is other software avilable.</a></li>
<li class="chapter" data-level="2.2" data-path="clinicalTrials.html"><a href="clinicalTrials.html#simulated-clinical-trial"><i class="fa fa-check"></i><b>2.2</b> Simulated Clinical Trial</a><ul>
<li class="chapter" data-level="2.2.1" data-path="clinicalTrials.html"><a href="clinicalTrials.html#simulating-data"><i class="fa fa-check"></i><b>2.2.1</b> Simulating Data</a></li>
<li class="chapter" data-level="2.2.2" data-path="clinicalTrials.html"><a href="clinicalTrials.html#visualization-of-data"><i class="fa fa-check"></i><b>2.2.2</b> Visualization of data</a></li>
<li class="chapter" data-level="2.2.3" data-path="clinicalTrials.html"><a href="clinicalTrials.html#inferential-statistics"><i class="fa fa-check"></i><b>2.2.3</b> Inferential statistics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="interacting-with-the-national-library-of-medicine-.html"><a href="interacting-with-the-national-library-of-medicine-.html"><i class="fa fa-check"></i><b>3</b> Interacting with the National Library of Medicine.</a><ul>
<li class="chapter" data-level="3.1" data-path="interacting-with-the-national-library-of-medicine-.html"><a href="interacting-with-the-national-library-of-medicine-.html#searching-and-datamining-the-site."><i class="fa fa-check"></i><b>3.1</b> Searching and datamining the site.</a><ul>
<li class="chapter" data-level="3.1.1" data-path="interacting-with-the-national-library-of-medicine-.html"><a href="interacting-with-the-national-library-of-medicine-.html#initial-subsetting-and-downloading-from-website."><i class="fa fa-check"></i><b>3.1.1</b> Initial subsetting and downloading from website.</a></li>
<li class="chapter" data-level="3.1.2" data-path="interacting-with-the-national-library-of-medicine-.html"><a href="interacting-with-the-national-library-of-medicine-.html#extracting-address-and-getting-rid-of-the-rest."><i class="fa fa-check"></i><b>3.1.2</b> Extracting address and getting rid of the rest.</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="interacting-with-the-national-library-of-medicine-.html"><a href="interacting-with-the-national-library-of-medicine-.html#visualization"><i class="fa fa-check"></i><b>3.2</b> Visualization</a><ul>
<li class="chapter" data-level="3.2.1" data-path="interacting-with-the-national-library-of-medicine-.html"><a href="interacting-with-the-national-library-of-medicine-.html#visualizing-results-in-a-map"><i class="fa fa-check"></i><b>3.2.1</b> Visualizing results in a map</a></li>
<li class="chapter" data-level="3.2.2" data-path="interacting-with-the-national-library-of-medicine-.html"><a href="interacting-with-the-national-library-of-medicine-.html#mapping-frequency-of-trials-by-city-as-density."><i class="fa fa-check"></i><b>3.2.2</b> Mapping frequency of trials by city as density.</a></li>
<li class="chapter" data-level="3.2.3" data-path="interacting-with-the-national-library-of-medicine-.html"><a href="interacting-with-the-national-library-of-medicine-.html#maping-the-heatmap-for-the-same-trials."><i class="fa fa-check"></i><b>3.2.3</b> Maping the Heatmap for the same trials.</a></li>
<li class="chapter" data-level="3.2.4" data-path="interacting-with-the-national-library-of-medicine-.html"><a href="interacting-with-the-national-library-of-medicine-.html#isolating-trials-in-california"><i class="fa fa-check"></i><b>3.2.4</b> Isolating trials in California</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="machine-learning-for-the-clinical-work.html"><a href="machine-learning-for-the-clinical-work.html"><i class="fa fa-check"></i><b>4</b> Machine Learning for the Clinical Work</a><ul>
<li class="chapter" data-level="4.1" data-path="machine-learning-for-the-clinical-work.html"><a href="machine-learning-for-the-clinical-work.html#preprocessing-data"><i class="fa fa-check"></i><b>4.1</b> Preprocessing Data</a><ul>
<li class="chapter" data-level="4.1.1" data-path="machine-learning-for-the-clinical-work.html"><a href="machine-learning-for-the-clinical-work.html#data-preparation"><i class="fa fa-check"></i><b>4.1.1</b> Data preparation</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="machine-learning-for-the-clinical-work.html"><a href="machine-learning-for-the-clinical-work.html#model-training"><i class="fa fa-check"></i><b>4.2</b> Model Training</a><ul>
<li class="chapter" data-level="4.2.1" data-path="machine-learning-for-the-clinical-work.html"><a href="machine-learning-for-the-clinical-work.html#clinical-importance-of-each-variable"><i class="fa fa-check"></i><b>4.2.1</b> Clinical importance of each variable</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/generaviles" target="blank">Gener J Aviles-Rodriguez</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analytics for Clinical Practice and Research</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interacting-with-the-national-library-of-medicine." class="section level1">
<h1><span class="header-section-number">Section 3</span> Interacting with the National Library of Medicine.</h1>
<p>This is an example of an approximation to the database of clinical trials maintained by the National Library of Medicine (NLM) of the National Institutes of Health (NIH). This tool facilitates the exploration and visualization of clinical trials recognized by the government and reported at <a href="https://clinicaltrials.gov/">ClinicalTrials.gov</a>.</p>
<p>The rest of the document will show a step by step approximation to the process of datamining and visualization of the information.</p>
<div id="searching-and-datamining-the-site." class="section level2">
<h2><span class="header-section-number">3.1</span> Searching and datamining the site.</h2>
<div id="initial-subsetting-and-downloading-from-website." class="section level3">
<h3><span class="header-section-number">3.1.1</span> Initial subsetting and downloading from website.</h3>
<p>The following table shows the first 6 studies of a total of found after subsetting accross the whole <em>ClinicalTrials.gov</em> dataset for maches with the terms “<em>acute</em> AND <em>care</em> AND <em>surgery</em>”.</p>
<p>Once the selection is located and downloaded, the next step is to extract and keep only the locations in the United States.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">load</span>(<span class="st">&quot;~/Dropbox/PhD UABC/Colaborations/Loma Linda/bookdown-demo-master/criticalCareClinicTrials.RData&quot;</span>)
<span class="co"># First five results of the search (about 1500+ locations):</span>
<span class="co">#library(DT)</span>
<span class="kw">library</span>(DT)
<span class="co">#kable(head(c, 5), format = &quot;html&quot;)</span>
<span class="kw">datatable</span>(<span class="kw">head</span>(c, <span class="dv">5</span>))</code></pre></div>
<div id="htmlwidget-2d334845a0902501a4d7" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-2d334845a0902501a4d7">{"x":{"filter":"none","data":[["6","7","10","11","12"],["SSM Health Saint Louis University Hospital","Mayo Clinic in Rochester","Cooper University Hospital","Columbia University Medical Center","University of Pittsburgh Medical Center"],["Saint Louis","Rochester","Camden","New York","Pittsburgh"],["Missouri","Minnesota","New Jersey","New York","Pennsylvania"],["63110","55905","08103","10032","15261"],["United States","United States","United States","United States","United States"],["Recruiting","Recruiting","Recruiting","Recruiting","Recruiting"],[null,null,null,null,null],[null,null,null,null,null],[null,null,"Kinjal Patel, MD","Michael Argenziano, MD","Forozan Navid, MD"],[null,null,"Principal Investigator","Principal Investigator","Principal Investigator"],[null,null,null,null,null],[null,null,null,null,null],["NCT03424954","NCT02838667","NCT03384875","NCT03384875","NCT03384875"],["Grace Montenegro, MD","Sharon Goldsmith","Brian McEniry","Natasha Desai","MIchelle Mackay, RN"],["grace.montenegro@health.slu.edu","goldsmith.sharon@mayo.edu",null,null,null],[null,"507-266-6790","856-968-7333","212-305-3009","412-623-2809"],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>name<\/th>\n      <th>address.city<\/th>\n      <th>address.state<\/th>\n      <th>address.zip<\/th>\n      <th>address.country<\/th>\n      <th>status<\/th>\n      <th>last_name<\/th>\n      <th>last_name.1<\/th>\n      <th>investigator.last_name<\/th>\n      <th>investigator.role<\/th>\n      <th>investigator.last_name.1<\/th>\n      <th>investigator.role.1<\/th>\n      <th>nct_id<\/th>\n      <th>contact.last_name<\/th>\n      <th>contact.email<\/th>\n      <th>contact.phone<\/th>\n      <th>contact_backup.last_name<\/th>\n      <th>contact_backup.phone<\/th>\n      <th>contact_backup.email<\/th>\n      <th>contact.phone_ext<\/th>\n      <th>contact_backup.phone_ext<\/th>\n      <th>investigator.last_name.2<\/th>\n      <th>investigator.role.2<\/th>\n      <th>investigator.last_name.3<\/th>\n      <th>investigator.role.3<\/th>\n      <th>investigator.last_name.4<\/th>\n      <th>investigator.role.4<\/th>\n      <th>investigator.last_name.5<\/th>\n      <th>investigator.role.5<\/th>\n      <th>investigator.last_name.6<\/th>\n      <th>investigator.role.6<\/th>\n      <th>investigator.last_name.7<\/th>\n      <th>investigator.role.7<\/th>\n      <th>investigator.last_name.8<\/th>\n      <th>investigator.role.8<\/th>\n      <th>investigator.last_name.9<\/th>\n      <th>investigator.role.9<\/th>\n      <th>investigator.last_name.10<\/th>\n      <th>investigator.role.10<\/th>\n      <th>investigator.last_name.11<\/th>\n      <th>investigator.role.11<\/th>\n      <th>investigator.last_name.12<\/th>\n      <th>investigator.role.12<\/th>\n      <th>investigator.last_name.13<\/th>\n      <th>investigator.role.13<\/th>\n      <th>investigator.last_name.14<\/th>\n      <th>investigator.role.14<\/th>\n      <th>investigator.last_name.15<\/th>\n      <th>investigator.role.15<\/th>\n      <th>investigator.last_name.16<\/th>\n      <th>investigator.role.16<\/th>\n      <th>investigator.last_name.17<\/th>\n      <th>investigator.role.17<\/th>\n      <th>investigator.last_name.18<\/th>\n      <th>investigator.role.18<\/th>\n      <th>investigator.last_name.19<\/th>\n      <th>investigator.role.19<\/th>\n      <th>investigator.last_name.20<\/th>\n      <th>investigator.role.20<\/th>\n      <th>investigator.last_name.21<\/th>\n      <th>investigator.role.21<\/th>\n      <th>investigator.last_name.22<\/th>\n      <th>investigator.role.22<\/th>\n      <th>investigator.last_name.23<\/th>\n      <th>investigator.role.23<\/th>\n      <th>investigator.last_name.24<\/th>\n      <th>investigator.role.24<\/th>\n      <th>investigator.last_name.25<\/th>\n      <th>investigator.role.25<\/th>\n      <th>investigator.last_name.26<\/th>\n      <th>investigator.role.26<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="extracting-address-and-getting-rid-of-the-rest." class="section level3">
<h3><span class="header-section-number">3.1.2</span> Extracting address and getting rid of the rest.</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Highest occurence 20 results from the search:</span>
<span class="kw">library</span>(knitr)
test&lt;-e
<span class="kw">kable</span>(<span class="kw">head</span>(test, <span class="dv">10</span>))</code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="left">address</th>
<th align="right">freq</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>8</td>
<td align="left">Boston,Massachusetts</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td>48</td>
<td align="left">New York,New York</td>
<td align="right">7</td>
</tr>
<tr class="odd">
<td>4</td>
<td align="left">Atlanta,Georgia</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td>56</td>
<td align="left">Pittsburgh,Pennsylvania</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td>59</td>
<td align="left">Saint Louis,Missouri</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td>6</td>
<td align="left">Baltimore,Maryland</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td>17</td>
<td align="left">Cleveland,Ohio</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td>55</td>
<td align="left">Phoenix,Arizona</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td>7</td>
<td align="left">Birmingham,Alabama</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td>19</td>
<td align="left">Columbus,Ohio</td>
<td align="right">3</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="visualization" class="section level2">
<h2><span class="header-section-number">3.2</span> Visualization</h2>
<!--### Geolocation of cities-->
<p><strong>Using the <a href="https://cloud.google.com/maps-platform/">Google Maps API</a> to obtain latitud and longitude coordinates from city names and states.</strong></p>
<div id="visualizing-results-in-a-map" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Visualizing results in a map</h3>
<p>Getting the map background with the right zoom.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># load the required libraries</span>
<span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(ggmap)
<span class="co"># download the map background images</span>
map&lt;-<span class="kw">get_map</span>(<span class="dt">location=</span><span class="st">&#39;united states&#39;</span>, <span class="dt">zoom=</span><span class="dv">4</span>, <span class="dt">maptype =</span> <span class="st">&quot;terrain&quot;</span>,
             <span class="dt">source=</span><span class="st">&#39;google&#39;</span>,<span class="dt">color=</span><span class="st">&#39;color&#39;</span>, <span class="dt">force=</span><span class="ot">TRUE</span>)

<span class="kw">ggmap</span>(map) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.line =</span> <span class="kw">element_blank</span>(),
        <span class="dt">axis.text =</span> <span class="kw">element_blank</span>(),
        <span class="dt">axis.ticks =</span> <span class="kw">element_blank</span>(),
        <span class="dt">plot.margin =</span> <span class="kw">unit</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">-1</span>, <span class="dv">-1</span>), <span class="st">&#39;lines&#39;</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;&#39;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;&#39;</span>)</code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
</div>
<div id="mapping-frequency-of-trials-by-city-as-density." class="section level3">
<h3><span class="header-section-number">3.2.2</span> Mapping frequency of trials by city as density.</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggmap</span>(map) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(
  <span class="kw">aes</span>(<span class="dt">x=</span>lon, <span class="dt">y=</span>lat, <span class="dt">show_guide =</span> <span class="ot">TRUE</span>, <span class="dt">colour=</span>freq.x), 
  <span class="dt">data=</span>g, <span class="dt">alpha=</span>.<span class="dv">5</span>, <span class="dt">na.rm =</span> T, <span class="dt">size =</span> g<span class="op">$</span>freq.x<span class="op">*</span><span class="fl">0.8</span>)  <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">scale_color_gradient</span>(<span class="dt">low=</span><span class="st">&quot;green&quot;</span>, <span class="dt">high=</span><span class="st">&quot;red&quot;</span>) <span class="op">+</span>
<span class="st">   </span><span class="kw">theme</span>(<span class="dt">axis.line =</span> <span class="kw">element_blank</span>(),
        <span class="dt">axis.text =</span> <span class="kw">element_blank</span>(),
        <span class="dt">axis.ticks =</span> <span class="kw">element_blank</span>(),
        <span class="dt">plot.margin =</span> <span class="kw">unit</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">-1</span>, <span class="dv">-1</span>), <span class="st">&#39;lines&#39;</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;&#39;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;&#39;</span>)</code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
</div>
<div id="maping-the-heatmap-for-the-same-trials." class="section level3">
<h3><span class="header-section-number">3.2.3</span> Maping the Heatmap for the same trials.</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggmap</span>(map) <span class="op">+</span><span class="st"> </span><span class="kw">geom_density2d</span>(<span class="dt">data =</span> h,  <span class="kw">aes</span>(<span class="dt">x =</span> lon, <span class="dt">y =</span> lat), <span class="dt">size =</span> <span class="fl">0.3</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">stat_density2d</span>(<span class="dt">data=</span>h, <span class="kw">aes</span>(<span class="dt">fill =</span> ..level.., <span class="dt">alpha =</span> ..level..), <span class="dt">geom=</span><span class="st">&quot;polygon&quot;</span>, <span class="dt">bins=</span><span class="dv">15</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_fill_gradient</span>(<span class="dt">low =</span> <span class="st">&quot;green&quot;</span>, <span class="dt">high =</span> <span class="st">&quot;red&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_alpha</span>(<span class="dt">range =</span> <span class="kw">c</span>(<span class="fl">0.1</span>, <span class="fl">0.3</span>), <span class="dt">guide =</span> <span class="ot">FALSE</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.line =</span> <span class="kw">element_blank</span>(),
        <span class="dt">axis.text =</span> <span class="kw">element_blank</span>(),
        <span class="dt">axis.ticks =</span> <span class="kw">element_blank</span>(),
        <span class="dt">plot.margin =</span> <span class="kw">unit</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">-1</span>, <span class="dv">-1</span>), <span class="st">&#39;lines&#39;</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&#39;&#39;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&#39;&#39;</span>)</code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
<div id="isolating-trials-in-california" class="section level3">
<h3><span class="header-section-number">3.2.4</span> Isolating trials in California</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#cali &lt;- subset(c,c$address.state==&quot;California&quot;)</span>
<span class="kw">library</span>(DT)
<span class="kw">datatable</span>(cali[,<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>])</code></pre></div>
<div id="htmlwidget-f0bb20f52e16dcdb0485" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-f0bb20f52e16dcdb0485">{"x":{"filter":"none","data":[["30","193","286","287","333","433","434","523"],["Stanford University Medical Center","University of California, San Francisco","University of Southern California (USC)","Cedars-Sinai Medical Center","Olive View-UCLA Medical Center","Loma Linda University Children's Hospital","University of California Davis Medical Center","VA Greater Los Angeles Healthcare System, West Los Angeles, CA"],["Stanford","San Francisco","Los Angeles","Los Angeles","Sylmar","Loma Linda","Sacramento","West Los Angeles"],["California","California","California","California","California","California","California","California"],["94305","94143","90033","90048","91342","92354","95817","90073"],["United States","United States","United States","United States","United States","United States","United States","United States"],["Active, not recruiting","Recruiting","Recruiting","Recruiting","Recruiting","Recruiting","Recruiting","Recruiting"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,"Gabriel Zada, MD","Michael Alexander, MD",null,"Asma Razavi, MD","Gary Raff, MD",null],[null,null,"Principal Investigator","Principal Investigator",null,"Principal Investigator","Principal Investigator",null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>name<\/th>\n      <th>address.city<\/th>\n      <th>address.state<\/th>\n      <th>address.zip<\/th>\n      <th>address.country<\/th>\n      <th>status<\/th>\n      <th>last_name<\/th>\n      <th>last_name.1<\/th>\n      <th>investigator.last_name<\/th>\n      <th>investigator.role<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}]}},"evals":[],"jsHooks":[]}</script>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="clinicalTrials.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="machine-learning-for-the-clinical-work.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-gisInfo.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
